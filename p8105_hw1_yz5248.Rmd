---
title: "p8105_hw1_yz5248"
author: "yz5248"
date: "2025-09-17"
output: github_document
---

## Problem 1: Dataset Description
```{r echo=TRUE}
library("moderndive")
library(ggplot2)
library(tidyverse)
data("early_january_weather")
```

```{r echo=TRUE}
??early_january_weather
nrow(early_january_weather)
ncol(early_january_weather)
round(mean(early_january_weather$temp), 1)
```

The `early_january_weather` dataset comes from the **moderndive** package and contains hourly weather data collected at LaGuardia Airport (LGA) in early January 2013.

This dataset has **`r nrow(early_january_weather)`** rows and **`r ncol(early_january_weather)`** columns.  
Key variables include:  
-'origin': Weather station identifier (all are "EWR", Newark Liberty Airport).  
-'year, month, day, hour': Date and time information for each observation.  
-'temp': Temperature in degrees Fahrenheit.  
-'dewp': Dewpoint in degrees Fahrenheit.  
-'humid': Relative humidity (percent).  
-'wind_dir': Wind direction in degrees.  
-'wind_speed': Wind speed in mph.  
-'wind_gust': Wind gust in mph (may contain missing values).  
-'precip': Precipitation (inches).  
-'pressure': Sea-level pressure (millibars).  
-'visib': Visibility (miles).  
-'time_hour': Date/time as a POSIXct variable for easier plotting and analysis.  

The mean temperature during this period was **`r round(mean(early_january_weather$temp), 1)` °F**.

## Problem 1: Scatterplot of Temperature vs Time

```{r scatterplot, fig.width=7, fig.height=5}
# Create scatterplot
scatter_temp_time <- ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) +
  geom_point() +
  labs(
    title = "Temperature vs Time (Colored by Humidity)",
    x = "Time (Hour)",
    y = "Temperature (°F)",
    color = "Humidity"
  ) +
  theme_minimal()

# Print plot so it shows up in the knitted document
scatter_temp_time

# Save plot as PNG file in your project directory
ggsave("scatter_temp_time.png", scatter_temp_time, width = 7, height = 5)
```

The scatterplot shows hourly temperature over time, with point colors indicating humidity levels. Several patterns are apparent:  
1. Daily cycles: Temperatures follow a roughly repeating daily pattern — lower in the early morning hours and higher during the day.  
2. Gradual warming: Overall temperatures tend to increase over the two-week period, with the warmest temperatures occurring around January 13–14.  
3. Humidity relationship: Points with darker colors (lower humidity) generally correspond to higher temperatures, while lighter blue points (higher humidity) appear at cooler temperatures.  
4. Variation: There is some day-to-day variability, but the general trend shows a gradual rise followed by a slight drop near the end.  


## Problem 2: Variable Types and Coercion
Create the data frame.  
```{r create-df}
set.seed(123) # for reproducibility

my_df <- tibble::tibble(
  norm_sample = rnorm(10),                      # numeric: random N(0,1)
  positive = rnorm(10) > 0,                     # logical: TRUE/FALSE
  char_vec    = sample(letters[1:3], 10, TRUE), # character vector
  factor_vec  = factor(sample(c("low","med","high"), 10, TRUE))
)

my_df
```

Take the mean by pull.  
```{r}
mean(my_df %>% pull(norm_sample))  # works: numeric data
mean(my_df %>% pull(positive))  # works: TRUE=1, FALSE=0 -> proportion > 0
# mean(my_df %>% pull(char_var)) will get an error output. Since char_var is a character vector (contains text like "a", "b"), mean() can only work with numeric or logical data.
# mean(my_df %>% pull(factor_var)) will get an error output. Since factor_var is a character vector (contains text like "high", "low"), mean() can only work with numeric or logical data.
```

Coercion using as.numeric.  
```{r create numeric}
as.numeric(my_df$positive)
as.numeric(my_df$char_vec)
as.numeric(my_df$factor_vec)
mean(as.numeric(my_df$positive))
mean(as.numeric(my_df$char_vec))
mean(as,numeric(my_df$factor_vec))
```
For Logical variable (positive): When converted to numeric, TRUE becomes 1 and FALSE becomes 0.Therefore, mean(positive) gives the proportion of values greater than 0.  
Character variable (char_vec): When converted to numeric, R cannot convert letters into For numbers and returns NA with a warning (NAs introduced by coercion).This explains why mean(char_vec) produces an error — characters cannot be averaged.  
For Factor variable (factor_vec): When converted to numeric, R returns the underlying integer codes for factor levels (e.g., 1, 2, 3).Taking the mean of these codes is possible, but it is not meaningful because these numbers represent level order, not actual quantities.